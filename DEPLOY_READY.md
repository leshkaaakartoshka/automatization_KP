# ‚úÖ CPQ System –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é!

## üéØ –ß—Ç–æ –±—ã–ª–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ **nginx.conf** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è production —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ gzip
- ‚úÖ **backend/app/main.py** - –¥–æ–±–∞–≤–ª–µ–Ω IP 193.32.179.66 –≤ CORS origins
- ‚úÖ **docker-compose.yml** - —É–±—Ä–∞–Ω PostgreSQL (–Ω–µ –Ω—É–∂–µ–Ω)
- ‚úÖ **vite.config.ts** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production build

### 2. –°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è
- ‚úÖ **env.production.example** - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- ‚úÖ **QUICK_DEPLOY.md** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ **deploy-production.sh** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
- ‚úÖ **cleanup-pdfs.sh** - —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö PDF —Ñ–∞–π–ª–æ–≤

## üöÄ –ö–∞–∫ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Ubuntu 24.04
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker: curl -fsSL https://get.docker.com | sh
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env: cp env.production.example .env && nano .env
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å: ./deploy-production.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
1. docker-compose build
2. docker-compose up -d
3. curl http://193.32.179.66/health
```

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ .env

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```bash
TG_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
TG_MANAGER_CHAT_ID=–≤–∞—à_chat_id_–æ—Ç_userinfobot
HASH_SALT=—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞_32_—Å–∏–º–≤–æ–ª–∞
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ:**
```bash
BASE_URL=http://193.32.179.66
LOOKUP_SOURCE=mock
PDF_STORAGE=local
```

## üåê –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ

- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: http://193.32.179.66
- **API**: http://193.32.179.66/api  
- **API Docs**: http://193.32.179.66/api/docs
- **Health Check**: http://193.32.179.66/health

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
git pull && docker-compose up -d --build
```

## üßπ –û—á–∏—Å—Ç–∫–∞ PDF —Ñ–∞–π–ª–æ–≤

```bash
# –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
./cleanup-pdfs.sh

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (cron)
0 2 * * * /path/to/cleanup-pdfs.sh
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- üöÄ **–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π** - 1 –∫–æ–º–∞–Ω–¥–∞
- üîß **–ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - Docker Compose
- üì¶ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å** - 2 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- üóÑÔ∏è **–ë–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - mock –¥–∞–Ω–Ω—ã–µ
- üìÑ **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ PDF** - –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram
- üîÑ **–õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å** - git pull + rebuild

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏: `docker-compose logs`
2. –°—Ç–∞—Ç—É—Å: `docker-compose ps`
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `docker-compose config`
4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `cat .env`

---

**üéâ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ production –¥–µ–ø–ª–æ—é!**
